(this["webpackJsonpany-char"]=this["webpackJsonpany-char"]||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a,s=n(1),c=n.n(s),i=n(9),r=n.n(i),o=n(15),l=n(2),d=n(3),u=n(5),h=n(4),j=n(11),b=n(16),m=n.n(b),p=(n(21),n(22),n(43),n(6)),g=n.n(p),v=(n(44),n(0)),O=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){document.getElementById("searchbox").addEventListener("keyup",(function(e){"Enter"==e.key&&document.getElementById("searchbtn").click()})),g.a.init(document.querySelectorAll("#searchbtn"),{max:15,perspective:500,speed:400,scale:1.1})}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"srchcont",children:Object(v.jsxs)("div",{className:"searchCont",children:[Object(v.jsx)("input",{type:"search",name:"searchbox",id:"searchbox",placeholder:"Search-Anime"}),Object(v.jsx)("button",{id:"searchbtn",onClick:this.props.search,children:"Search"})]})})}}]),n}(s.Component),f=(n(46),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){document.getElementById("searchNavInput").addEventListener("keyup",(function(e){"Enter"==e.key&&document.getElementById("SearchNav").click()})),g.a.init(document.querySelectorAll(".navbtn"),{max:15,perspective:500,speed:400,scale:1.1})}},{key:"render",value:function(){var e=this.props,t=e.Signedin,n=e.logout,a=e.changeRoute,s=(e.Route,e.searchNav);return t?Object(v.jsx)("nav",{class:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(v.jsxs)("div",{class:"container-fluid",children:[Object(v.jsx)("a",{class:"navbar-brand",onClick:function(){return a("Home")},children:"AniChar"}),Object(v.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(v.jsx)("span",{class:"navbar-toggler-icon"})}),Object(v.jsxs)("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(v.jsxs)("div",{class:"input-group ",children:[Object(v.jsx)("input",{type:"text",class:"form-control",id:"searchNavInput","aria-label":"Text input with segmented dropdown button",placeholder:"Search"}),Object(v.jsx)("button",{type:"button",id:"SearchNav",class:"btn btn-outline-secondary",onClick:s,children:"Anime"}),Object(v.jsx)("button",{type:"button",class:"btn btn-outline-secondary dropdown-toggle dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(v.jsx)("span",{class:"visually-hidden",children:"Toggle Dropdown"})}),Object(v.jsxs)("ul",{class:"dropdown-menu dropdown-menu-end",children:[Object(v.jsx)("li",{children:Object(v.jsx)("a",{class:"dropdown-item",href:"#",onClick:function(){document.getElementById("SearchNav").textContent="Anime"},children:"Anime"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{class:"dropdown-item",href:"#",onClick:function(){document.getElementById("SearchNav").textContent="Character"},children:"Character"})})]})]}),Object(v.jsxs)("ul",{class:"navbar-nav mb-2 mb-lg-0",children:[Object(v.jsx)("li",{class:"nav-item",children:Object(v.jsx)("a",{class:"nav-link active","aria-current":"page",onClick:function(){return a("Home")},children:"Home"})}),Object(v.jsx)("li",{class:"nav-item",children:Object(v.jsx)("a",{class:"nav-link active",onClick:n,children:"Logout"})}),Object(v.jsxs)("li",{class:"nav-item dropdown",children:[Object(v.jsx)("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Profile"}),Object(v.jsxs)("ul",{class:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(v.jsx)("li",{children:Object(v.jsx)("a",{class:"dropdown-item",onClick:function(){return a("Profile")},children:"Profile"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{class:"dropdown-item",onClick:function(){return a("Profile")},children:"Character List"})}),Object(v.jsx)("li",{children:Object(v.jsx)("hr",{class:"dropdown-divider"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{class:"dropdown-item",onClick:n,children:"Logout"})})]})]})]})]})]})}):Object(v.jsx)("nav",{class:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(v.jsxs)("div",{class:"container-fluid",children:[Object(v.jsx)("a",{class:"navbar-brand",onClick:function(){return a("Home")},children:"AniChar"}),Object(v.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(v.jsx)("span",{class:"navbar-toggler-icon"})}),Object(v.jsxs)("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(v.jsxs)("div",{class:"input-group collapseInput",children:[Object(v.jsx)("input",{type:"text",id:"searchNavInput",class:"form-control","aria-label":"Text input with segmented dropdown button"}),Object(v.jsx)("button",{type:"button",id:"SearchNav",class:"btn btn-outline-secondary",onClick:s,children:"Anime"}),Object(v.jsx)("button",{type:"button",class:"btn btn-outline-secondary dropdown-toggle dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(v.jsx)("span",{class:"visually-hidden",children:"Toggle Dropdown"})}),Object(v.jsxs)("ul",{class:"dropdown-menu dropdown-menu-end",children:[Object(v.jsx)("li",{children:Object(v.jsx)("a",{class:"dropdown-item",href:"#",onClick:function(){document.getElementById("SearchNav").textContent="Anime"},children:"Anime"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{class:"dropdown-item",href:"#",onClick:function(){document.getElementById("SearchNav").textContent="Character"},children:"Character"})})]})]}),Object(v.jsxs)("ul",{class:"navbar-nav mb-2 mb-lg-0",children:[Object(v.jsx)("li",{class:"nav-item",children:Object(v.jsx)("a",{class:"nav-link active","aria-current":"page",href:"#",children:"Home"})}),Object(v.jsx)("li",{class:"nav-item",children:Object(v.jsx)("a",{class:"nav-link active",onClick:function(){a("Signup")},children:"Register"})}),Object(v.jsx)("li",{class:"nav-item",children:Object(v.jsx)("a",{class:"nav-link active",onClick:function(){a("Signin")},children:"Login"})}),Object(v.jsxs)("li",{class:"nav-item dropdown",children:[Object(v.jsx)("a",{class:"nav-link dropdown-toggle disabled",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Profile"}),Object(v.jsxs)("ul",{class:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(v.jsx)("li",{children:Object(v.jsx)("a",{class:"dropdown-item",href:"#",children:"Profile"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{class:"dropdown-item",href:"#",children:"Character List"})}),Object(v.jsx)("li",{children:Object(v.jsx)("hr",{class:"dropdown-divider"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{class:"dropdown-item",href:"#",children:"Logout"})})]})]})]})]})]})})}}]),n}(s.Component)),x=(n(47),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){g.a.init(document.querySelectorAll(".animeCards"),{max:10,perspective:700,speed:400,scale:1.03,glare:!0,"max-glare":.5})}},{key:"render",value:function(){var e=this.props,t=e.num,n=e.animeclick,a=e.imgurl,s=e.name,c=e.id,i=e.airing,r=e.score;return Object(v.jsxs)("div",{className:"animeCards",id:t,onClick:function(){n(c)},children:[Object(v.jsx)("img",{id:"animeImg",src:a,alt:""}),Object(v.jsx)("h1",{className:"animetitle",children:s}),Object(v.jsxs)("div",{className:"details",children:[Object(v.jsxs)("h2",{className:"score",children:["\u26a1Rating:",r]}),Object(v.jsxs)("h2",{className:"airing",children:["\u25b6\ufe0fAiring:",i.toString()]})]})]})}}]),n}(s.Component)),y=(n(48),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.Animedata,n=e.changeRoute,a=e.animeclick;return Object(v.jsx)("div",{className:"Animelist",children:t.map((function(e,s){return Object(v.jsx)(x,{id:t[s].mal_id,num:s,name:t[s].title,imgurl:t[s].image_url,airing:t[s].airing,score:t[s].score,changeRoute:n,animeclick:a},s)}))})}}]),n}(s.Component)),k=(n(49),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.Fav.forEach((function(e){try{document.getElementById(e).classList.add("liked")}catch(t){}})),g.a.init(document.querySelectorAll(".Charactercard"),{max:5,perspective:1e3,speed:400,scale:1.03,glare:!0,"max-glare":.5})}},{key:"render",value:function(){var e=this.props,t=e.imgurl,n=e.name,a=e.role,s=e.like;return e.Signedin?Object(v.jsxs)("div",{className:"Charactercard",id:n,children:[Object(v.jsx)("img",{className:"pfp",src:t,alt:""}),Object(v.jsxs)("div",{className:"chardetails",children:[Object(v.jsx)("h1",{className:"charname",children:n}),Object(v.jsxs)("h3",{className:"role",children:["Role:",a]}),Object(v.jsx)("button",{className:"likebtn",onClick:function(){return s(n)},children:"\ud83d\udc97"})]})]}):Object(v.jsxs)("div",{className:"Charactercard",id:n,children:[Object(v.jsx)("img",{className:"pfp",src:t,alt:""}),Object(v.jsxs)("div",{className:"chardetails",children:[Object(v.jsx)("h1",{className:"charname",children:n}),Object(v.jsxs)("h3",{className:"role",children:["Role:",a]}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{className:"likebtn",title:"Login to add to favorites",onClick:function(){return s(n)},disabled:!0,children:"\ud83d\udc97"})})]})]})}}]),n}(s.Component)),S=(n(50),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={favs:[]},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.Chardata,n=e.like,a=e.Signedin,s=e.Fav;return Object(v.jsx)("div",{id:"Characterlist",children:t.map((function(e,c){return Object(v.jsx)(k,{id:t[c].mal_id,num:c,name:t[c].name,imgurl:t[c].image_url,role:t[c].role,like:n,Fav:s,Signedin:a},c)}))})}}]),n}(s.Component)),C=(n(51),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){document.getElementById("password").addEventListener("keyup",(function(e){"Enter"===e.key&&document.getElementById("loginBtn").click()}))}},{key:"render",value:function(){var e=this.props,t=e.login,n=e.changeRoute;return Object(v.jsx)("div",{children:Object(v.jsxs)("div",{class:"container",id:"container",children:[Object(v.jsx)("div",{class:"form-container sign-in-container",children:Object(v.jsxs)("form",{id:"loginfrm",action:"#",children:[Object(v.jsx)("h1",{className:"signinText",children:"Sign in"}),Object(v.jsx)("input",{className:"loginfields",id:"username",type:"email",placeholder:"Username"}),Object(v.jsx)("input",{className:"loginfields",id:"password",type:"password",placeholder:"Password"}),Object(v.jsx)("a",{className:"forgotPass",onClick:function(){return n("ForgotPass")},children:"Forgot your password?"}),Object(v.jsx)("button",{id:"loginBtn",onClick:t,children:"Sign In"})]})}),Object(v.jsx)("div",{class:"overlay-container",children:Object(v.jsx)("div",{class:"overlay",children:Object(v.jsxs)("div",{class:"overlay-panel overlay-right",children:[Object(v.jsx)("h1",{children:"Not registered yet?"}),Object(v.jsx)("p",{id:"descReg",children:"Go to registration page instead"}),Object(v.jsx)("button",{id:"registerBtn",onClick:function(){return n("Signup")},class:"ghost",children:"Sign Up"})]})})})]})})}}]),n}(s.Component)),w=(n(52),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.register,n=e.changeRoute;return Object(v.jsx)("div",{children:Object(v.jsxs)("div",{class:"container",id:"container",children:[Object(v.jsx)("div",{class:"form-container sign-in-container",children:Object(v.jsxs)("form",{id:"loginfrm",action:"#",children:[Object(v.jsx)("h1",{className:"signinText",children:"Register"}),Object(v.jsx)("input",{className:"loginfields",id:"email",type:"text",placeholder:"Username"}),Object(v.jsx)("input",{className:"loginfields",id:"pass",type:"password",placeholder:"Password"}),Object(v.jsx)("button",{id:"loginBtn",onClick:t,children:"Sign up"})]})}),Object(v.jsx)("div",{class:"overlay-container",children:Object(v.jsx)("div",{class:"overlay",children:Object(v.jsxs)("div",{class:"overlay-panel overlay-right",children:[Object(v.jsx)("h1",{children:"Existing User?"}),Object(v.jsx)("p",{id:"descReg",children:"Go to login page instead"}),Object(v.jsx)("button",{id:"registerBtn",onClick:function(){return n("Signin")},class:"ghost",children:"Sign In"})]})})})]})})}}]),n}(s.Component)),N=(n(53),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.User;return Object(v.jsxs)("div",{className:"profilePage",children:[Object(v.jsxs)("div",{className:"userDetails",children:[Object(v.jsx)("img",{id:"dp",src:"https://ui-avatars.com/api/?name="+e.name,alt:""}),Object(v.jsxs)("div",{className:"userDetailsInner",children:[Object(v.jsx)("h1",{className:"userName",children:Object(v.jsx)("span",{id:"usrname",children:e.name})}),Object(v.jsx)("hr",{}),Object(v.jsxs)("h2",{className:"joinedDate",children:["Joined on: ",Object(v.jsxs)("span",{id:"joinedDate",children:[" ",e.joinedOn.slice(0,10)]})]})]})]}),Object(v.jsx)("div",{className:"favs",children:e.favorites.map((function(e,t){return Object(v.jsx)("h1",{className:"favItems",children:e},t)}))})]})}}]),n}(s.Component)),R=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:["Didnt had time to add Forgot Password so mail me at ",Object(v.jsx)("strong",{children:" mailsforakashkamat@gmail.com"})," to know your password"]})}}]),n}(s.Component),E=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).search=function(){e.setState({Route:"Load"});var t=document.getElementById("searchbox").value;fetch("https://api.jikan.moe/v3/search/anime?q=".concat(t,"&page=1")).then((function(e){return e.json()})).then((function(t){e.setState({Animedata:t.results}),e.setState({Route:"Results"})})).catch((function(e){return console.log("error",e)}))},e.searchNav=function(){e.setState({Route:"Load"});var t=document.getElementById("searchNavInput").value;fetch("https://api.jikan.moe/v3/search/anime?q=".concat(t,"&page=1")).then((function(e){return e.json()})).then((function(t){e.setState({Animedata:t.results}),e.setState({Route:"Results"})})).catch((function(e){return console.log("error",e)}))},e.animeclick=function(t){e.setState({Route:"Load"}),fetch("https://api.jikan.moe/v3/anime/".concat(t,"/characters_staff")).then((function(e){return e.json()})).then((function(t){e.setState({Chardata:t.characters}),e.setState({Route:"Characters"})}))},e.changeRoute=function(t){e.setState({Route:t})},e.login=function(){if(""===document.getElementById("username").value||""===document.getElementById("password").value)alert("Please Enter Correct Username/Password"),e.setState({Route:"Signin"});else{e.setState({Route:"Load"});var t=new Headers;t.append("Content-Type","application/json");var n={method:"POST",headers:t,body:JSON.stringify({name:document.getElementById("username").value,password:document.getElementById("password").value}),redirect:"follow"};e.setState({Route:"Load"}),fetch("https://anichar.herokuapp.com/login",n).then((function(e){return e.json()})).then((function(t){"1"===t.login?(e.setState({Signedin:!0,Route:"Home",User:t,Fav:t.favorites}),console.log("signed in"),localStorage.setItem("name",t.name),localStorage.setItem("password",t.password)):e.setState({Route:"Signin"})})).catch((function(e){return console.log("error",e)}))}},e.logout=function(){e.setState({Route:"Home",User:{},Signedin:!1,Fav:[]}),localStorage.clear()},e.register=function(){if(""===document.getElementById("email").value||""===document.getElementById("pass").value)alert("Enter Username/Password");else if(e.state.AllUsers.includes(document.getElementById("email").value))alert("Username already taken");else{e.setState({Route:"Load"});var t=new Headers;t.append("Content-Type","application/json");var n={method:"POST",headers:t,body:JSON.stringify({name:document.getElementById("email").value,password:document.getElementById("pass").value}),redirect:"follow"};e.setState({Route:"Load"}),fetch("https://anichar.herokuapp.com/register",n).then((function(e){return e.text()})).then((function(t){console.log(t),e.setState({Route:"Signin"})})).catch((function(e){return console.log("error",e)}))}},e.like=function(t){if(e.state.Fav.includes(t)){document.getElementsByClassName("likebtn").disabled=!0,(a=new Headers).append("Content-Type","application/json");var n={method:"POST",headers:a,body:JSON.stringify({unlike:t,name:e.state.User.name}),redirect:"follow"};e.setState({Route:"Load"}),fetch("https://anichar.herokuapp.com/unlike",n).then((function(e){return e.json()})).then((function(t){e.setState({User:t,Fav:t.favorites,Route:"Characters"}),document.getElementsByClassName("likebtn").disabled=!1})).catch((function(e){return console.log("error",e)})),document.getElementById(t).style.backgroundColor="#5c87a8"}else{var a;document.getElementsByClassName("likebtn").disabled=!0,(a=new Headers).append("Content-Type","application/json");n={method:"POST",headers:a,body:JSON.stringify({fav:t,name:e.state.User.name}),redirect:"follow"};e.setState({Route:"Load"}),fetch("https://anichar.herokuapp.com/like",n).then((function(e){return e.json()})).then((function(t){e.setState({User:t,Fav:t.favorites,Route:"Characters"}),document.getElementsByClassName("likebtn").disabled=!1})).catch((function(e){return console.log("error",e)})),document.getElementById(t).style.backgroundColor="#bd4b5e"}},e.state={Route:"Home",Animedata:[],Chardata:[],Signedin:!1,User:{},Fav:[],AllUsers:[],Loading:!1},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://anichar.herokuapp.com/users").then((function(e){return e.json()})).then((function(t){t.forEach((function(t){e.setState({AllUsers:e.state.AllUsers.concat([t.name])})}))})).catch((function(e){return console.log("error",e)}));var t=localStorage.getItem("name"),n=localStorage.getItem("password");if(null==t||null==n)console.log("no one logged in");else{var a=new Headers;a.append("Content-Type","application/json");var s=JSON.stringify({name:t,password:n});fetch("https://anichar.herokuapp.com/login",{method:"POST",headers:a,body:s,redirect:"follow"}).then((function(e){return e.json()})).then((function(t){"1"===t.login?(e.setState({Signedin:!0,Route:"Home",User:t,Fav:t.favorites}),console.log("signed in")):e.setState({Route:"Signin"})})).catch((function(e){return console.log("error",e)}))}}},{key:"render",value:function(){var e=Object(v.jsx)(f,{Signedin:this.state.Signedin,logout:this.logout,changeRoute:this.changeRoute,Route:this.state.Route,searchNav:this.searchNav}),t=Object(v.jsx)(N,{User:this.state.User,Fav:this.state.Fav});return"Home"===this.state.Route?Object(v.jsxs)("div",{children:[e,Object(v.jsx)(O,{search:this.search})]}):"Results"===this.state.Route?Object(v.jsxs)("div",{children:[e,Object(v.jsx)(y,{Animedata:this.state.Animedata,animeclick:this.animeclick,Fav:this.state.Fav})]}):"Characters"===this.state.Route?Object(v.jsxs)("div",{children:[e,Object(v.jsx)(S,{Chardata:this.state.Chardata,like:this.like,Signedin:this.state.Signedin,Fav:this.state.Fav,User:this.state.User})]}):"Signin"===this.state.Route?Object(v.jsx)(C,{login:this.login,changeRoute:this.changeRoute}):"Signup"===this.state.Route?Object(v.jsx)(w,{register:this.register,changeRoute:this.changeRoute}):"Profile"===this.state.Route?Object(v.jsxs)("div",{children:[e,t]}):"Load"===this.state.Route?Object(v.jsx)(m.a,{color:"#4b9cdb",loading:!0,css:Object(j.css)(a||(a=Object(o.a)(["\n        display: block;\n        margin: 0 auto;\n        margin-top: 50vh;\n        border-color: red;\n      "]))),size:150}):"ForgotPass"===this.state.Route?Object(v.jsx)(R,{}):void 0}}]),n}(s.Component),I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),c(e),i(e)}))};r.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(E,{})}),document.getElementById("root")),I()}},[[61,1,2]]]);
//# sourceMappingURL=main.926eb599.chunk.js.map